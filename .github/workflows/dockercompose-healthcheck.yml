name: stack-healthcheck

on:
  # Runs on pull requests
  pull_request:

jobs:
  dispatch:
    runs-on: ubuntu-latest
    steps:
      - name: Check dispatch-service stack
        uses: it-at-m/lhm_actions/action-templates/actions/action-dockercompose-healthcheck@12966547963631f8429d42bab860485b413003c2 # v1.0.22
        with:
          skip-exited: true # required for init containers
          compose-file-path: "./dispatch-service/stack/"

  matching:
    needs: []
    runs-on: ubuntu-latest
    steps:
      - name: Check matching-service stack
        uses: it-at-m/lhm_actions/action-templates/actions/action-dockercompose-healthcheck@12966547963631f8429d42bab860485b413003c2 # v1.0.22
        with:
          skip-exited: true # required for init containers
          compose-file-path: "./matching-service/stack/"
